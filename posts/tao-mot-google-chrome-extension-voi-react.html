<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Tạo một Google Chrome Extension với React | Hungkieu&#x27;s blog</title><meta name="description" content="Hướng dẫn viết một Extension trên Chrome với React."/><meta name="next-head-count" content="4"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/f7f9582a9cf39135.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f7f9582a9cf39135.css" data-n-g=""/><link rel="preload" href="/_next/static/css/2102fb57c040c35d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2102fb57c040c35d.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-a054bbf31fb90f6a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-2fa1a84ec5e1b202.js" defer=""></script><script src="/_next/static/chunks/629-d50099c034da5e99.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-00328814ffa3b55b.js" defer=""></script><script src="/_next/static/G6kVIVNCNR42qr-ac7HVB/_buildManifest.js" defer=""></script><script src="/_next/static/G6kVIVNCNR42qr-ac7HVB/_ssgManifest.js" defer=""></script><script src="/_next/static/G6kVIVNCNR42qr-ac7HVB/_middlewareManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Bitter:wght@500&display=swap">@font-face{font-family:'Bitter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/bitter/v25/raxhHiqOu8IVPmnRc6SY1KXhnF_Y8cTfCLw.woff) format('woff')}@font-face{font-family:'Bitter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/bitter/v25/raxhHiqOu8IVPmnRc6SY1KXhnF_Y8cTfOLXOW3pzveS5B3Nd.woff) format('woff');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Bitter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/bitter/v25/raxhHiqOu8IVPmnRc6SY1KXhnF_Y8cTfOLzOW3pzveS5B3Nd.woff) format('woff');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Bitter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/bitter/v25/raxhHiqOu8IVPmnRc6SY1KXhnF_Y8cTfOLfOW3pzveS5B3Nd.woff) format('woff');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Bitter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/bitter/v25/raxhHiqOu8IVPmnRc6SY1KXhnF_Y8cTfOLbOW3pzveS5B3Nd.woff) format('woff');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Bitter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/bitter/v25/raxhHiqOu8IVPmnRc6SY1KXhnF_Y8cTfOLjOW3pzveS5Bw.woff) format('woff');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next" data-reactroot=""><div class="styles_layout__uw121"><main class="styles_main__ZTqbU"><div class="styles_article__gKJAH"><article><a href="/">← Quay về trang chủ</a><div class="styles_htmlBody__Y9rnw"><h1>Tạo một Google Chrome Extension với React</h1>
<h1>Extension cơ bản</h1>
<p>Bạn có thể tham khảo bài viết này của mình:</p>
<ul>
<li><a href="https://hungkieu.dev">Hướng dẫn viết một Extension trên Chrome</a></li>
</ul>
<p>Với việc extension được viết bằng JS, thì bạn hoàn toàn có thể sử dụng các thư viện hay framework JS để phát triển một extension cho mình. Trong bài viết này mình sẽ tạo một extension với ReactJS.</p>
<h1>Khởi Tạo React App</h1>
<p>Mình sẽ sử dụng <code>create-react-app</code> CLI command:</p>
<pre><code class="hljs language-bash">npx create-react-app my-extension
</code></pre>
<p><img src="https://images.viblo.asia/199d16d0-6640-4b2f-abba-4e1dc5fb0f7f.png" alt=""></p>
<h1>Manifest.json</h1>
<p>Bước đầu thì mình sẽ sửa lại file manifest.json ở thư mục public, mình cũng sẽ sử dụng Manifest v3 luôn thử:</p>
<pre><code class="hljs language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"manifest_version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Pull Requests Tracker"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Pull Requests Tracker"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"default_popup"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"index.html"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"default_title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Open tracker"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><code>default_popup</code> để chỉ file file html mà mình dùng cho poup của extension. Sau khi sửa lại file manifest.json mình sẽ chạy <code>yarn run build</code> để chạy thử. Thư mục <code>/build</code> lúc này là folder chứa extension của chúng ta.</p>
<p>Để thêm extension vào trình duyệt, thì mình tạo thêm một file <code>.env</code> để không bị lỗi <a href="https://developer.chrome.com/docs/apps/contentSecurityPolicy/">CSP (tham khảo)</a></p>
<pre><code class="hljs language-bash">INLINE_RUNTIME_CHUNK=<span class="hljs-literal">false</span>
</code></pre>
<p>Giờ thì mình có thể thêm vào trình duyệt</p>
<p><img src="https://images.viblo.asia/a6dd9a0a-9aa8-4ade-ac4d-b0fda78a8126.png" alt=""></p>
<h1>Popup</h1>
<p>Ở bước này thì mình chỉ code React thôi. Extension mình định tạo thì có chức năng hiển thị lại các pull mình đang có, giống như bookmark vậy, nhưng thêm tự động khi mình mở pull.</p>
<p><img src="https://images.viblo.asia/08cccf8e-b692-4aec-903e-9f2068373125.png" alt=""></p>
<p>Mình sẽ giải thích luồng hoạt động như sau:</p>
<ul>
<li>Khi mình mở một pull request bất kỳ và có url dạng <code>https://github.com/owner/repo/pull/xxx</code></li>
<li>Kiểm tra tên người tạo pull</li>
<li>Lấy thông tin pull</li>
<li>Kiểm tra và lưu vào store</li>
<li>Sau khi pull được merge thì xoá khỏi store vào ngày hôm sau</li>
</ul>
<h1>Craco</h1>
<p>Craco (Create react app configuration override) một packge giúp bạn chỉnh sửa config của create-react-app một cách dễ dàng.
Mình sẽ cài đặt package này để config build cho các file script của extension.</p>
<pre><code class="hljs language-bash">yarn add @craco/craco
</code></pre>
<p>Tạo file <code>craco.config.js</code></p>
<pre><code class="hljs language-js"><span class="hljs-variable hljs-language">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">webpack</span>: {
    <span class="hljs-attr">configure</span>: <span class="hljs-function">(<span class="hljs-params">webpackConfig, { env, paths }</span>) =></span> {
      <span class="hljs-keyword">return</span> {
        ...webpackConfig,
        <span class="hljs-attr">entry</span>: {
          <span class="hljs-attr">main</span>: [
            env === <span class="hljs-string">"development"</span> &#x26;&#x26;
              <span class="hljs-built_in">require</span>.<span class="hljs-title hljs-function">resolve</span>(<span class="hljs-string">"react-dev-utils/webpackHotDevClient"</span>),
            paths.<span class="hljs-property">appIndexJs</span>,
          ].<span class="hljs-title hljs-function">filter</span>(<span class="hljs-title hljs-class">Boolean</span>),
          <span class="hljs-attr">background</span>: <span class="hljs-string">"./src/chrome/background.js"</span>,
          <span class="hljs-attr">contentScript</span>: <span class="hljs-string">"./src/chrome/contentScript.js"</span>,
        },
        <span class="hljs-attr">output</span>: {
          ...webpackConfig.<span class="hljs-property">output</span>,
          <span class="hljs-attr">filename</span>: <span class="hljs-string">"[name].js"</span>,
        },
        <span class="hljs-attr">optimization</span>: {
          ...webpackConfig.<span class="hljs-property">optimization</span>,
          <span class="hljs-attr">runtimeChunk</span>: <span class="hljs-literal">false</span>,
        },
      };
    },
  },
};
</code></pre>
<p>Giờ thì phải tạo thêm hai file <code>src/chrome/background.js</code> và <code>src/chrome/contentScript.js</code></p>
<h1>Content Script</h1>
<p>File content script này mình sẽ để chạy mỗi khi vào github. Để sử dụng thì cần cập nhật thêm vào file Manifest.json</p>
<pre><code class="hljs language-json"><span class="hljs-attr">"content_scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"matches"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"https://github.com/*"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"js"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"contentScript.js"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
</code></pre>
<p>Ở file này mình sẽ check khi người dùng mở một pull request bất kỳ, và lấy dữ liệu mình cần rồi dùng <code>chrome.runtime.sendMessage</code> để gửi đến background script của extension. Thông tin mình cần thì nó dạng:</p>
<pre><code class="hljs language-js">{
    <span class="hljs-attr">title</span>: <span class="hljs-string">'Add unstable prefix in React.js instead of entry points'</span>,
    <span class="hljs-attr">status</span>: <span class="hljs-string">'Open'</span>,
    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/facebook/react/pull/21722'</span>,
    <span class="hljs-attr">updated_at</span>: <span class="hljs-number">22</span>,
    <span class="hljs-attr">nameActive</span>: <span class="hljs-string">'acdlite'</span>
}
</code></pre>
<h1>Background Script</h1>
<p>Đây là phần script mà nó sẽ chạy ngầm liên tục khi mình cài extension vào trình duyệt. Vì vậy nên mới có thể sử dụng để nhận thông tin bất kỳ lúc nào mà không cần mở popup. Mình sẽ cập nhật thêm vào Manifest.json</p>
<pre><code class="hljs language-json"><span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"storage"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  ...
  <span class="hljs-attr">"background"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"service_worker"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"background.js"</span>
  <span class="hljs-punctuation">}</span>
</code></pre>
<p>Mình có thêm <code>"permissions: ['storage']"</code> vì ở đây mình sẽ cần <code>chrome.storage</code> để lưu thông tin pull.</p>
<h1>Demo</h1>
<p>Đến bước này thì mình hoàn thành cơ bản được rồi</p>
<p><img src="https://images.viblo.asia/b7a3d191-dcd8-4c59-af90-d4621e28b61d.gif" alt=""></p>
<p>Trong bài viết thì mình không muốn coppy phần code vào, bạn có thể tham khảo</p>
<p>Source code: <a href="https://github.com/muoihai-com/pull-requests-tracker">https://github.com/muoihai-com/pull-requests-tracker</a></p>
<p><img src="https://images.viblo.asia/21255719-39d7-4787-bb59-7606744a0c9e.png" alt=""></p></div></article><footer class="styles_footer__UG76L">©<a class="styles_link__KytYE" href="https://github.com/hungkieu">hungkieu</a>2022</footer></div></main><a class="styles_top__yIBNd"><svg width="30" height="30" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="white" d="M572.235 205.282v600.365a30.118 30.118 0 11-60.235 0V205.282L292.382 438.633a28.913 28.913 0 01-42.646 0 33.43 33.43 0 010-45.236l271.058-288.045a28.913 28.913 0 0142.647 0L834.5 393.397a33.43 33.43 0 010 45.176 28.913 28.913 0 01-42.647 0l-219.618-233.23z"></path></svg></a></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"slug":"tao-mot-google-chrome-extension-voi-react","title":"Tạo một Google Chrome Extension với React","date":"Wed Mar 23 2022 15:06:22 GMT+0700 (Indochina Time)","description":"Hướng dẫn viết một Extension trên Chrome với React.","tags":["Reactjs","Extension"],"content":"\u003ch1\u003eTạo một Google Chrome Extension với React\u003c/h1\u003e\n\u003ch1\u003eExtension cơ bản\u003c/h1\u003e\n\u003cp\u003eBạn có thể tham khảo bài viết này của mình:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://hungkieu.dev\"\u003eHướng dẫn viết một Extension trên Chrome\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eVới việc extension được viết bằng JS, thì bạn hoàn toàn có thể sử dụng các thư viện hay framework JS để phát triển một extension cho mình. Trong bài viết này mình sẽ tạo một extension với ReactJS.\u003c/p\u003e\n\u003ch1\u003eKhởi Tạo React App\u003c/h1\u003e\n\u003cp\u003eMình sẽ sử dụng \u003ccode\u003ecreate-react-app\u003c/code\u003e CLI command:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003enpx create-react-app my-extension\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"https://images.viblo.asia/199d16d0-6640-4b2f-abba-4e1dc5fb0f7f.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003ch1\u003eManifest.json\u003c/h1\u003e\n\u003cp\u003eBước đầu thì mình sẽ sửa lại file manifest.json ở thư mục public, mình cũng sẽ sử dụng Manifest v3 luôn thử:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-json\"\u003e\u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003e\"manifest_version\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Pull Requests Tracker\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003e\"description\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Pull Requests Tracker\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003e\"version\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"1.0\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003e\"action\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"default_popup\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"index.html\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"default_title\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Open tracker\"\u003c/span\u003e\n  \u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003edefault_popup\u003c/code\u003e để chỉ file file html mà mình dùng cho poup của extension. Sau khi sửa lại file manifest.json mình sẽ chạy \u003ccode\u003eyarn run build\u003c/code\u003e để chạy thử. Thư mục \u003ccode\u003e/build\u003c/code\u003e lúc này là folder chứa extension của chúng ta.\u003c/p\u003e\n\u003cp\u003eĐể thêm extension vào trình duyệt, thì mình tạo thêm một file \u003ccode\u003e.env\u003c/code\u003e để không bị lỗi \u003ca href=\"https://developer.chrome.com/docs/apps/contentSecurityPolicy/\"\u003eCSP (tham khảo)\u003c/a\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003eINLINE_RUNTIME_CHUNK=\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eGiờ thì mình có thể thêm vào trình duyệt\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://images.viblo.asia/a6dd9a0a-9aa8-4ade-ac4d-b0fda78a8126.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003ch1\u003ePopup\u003c/h1\u003e\n\u003cp\u003eỞ bước này thì mình chỉ code React thôi. Extension mình định tạo thì có chức năng hiển thị lại các pull mình đang có, giống như bookmark vậy, nhưng thêm tự động khi mình mở pull.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://images.viblo.asia/08cccf8e-b692-4aec-903e-9f2068373125.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003eMình sẽ giải thích luồng hoạt động như sau:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eKhi mình mở một pull request bất kỳ và có url dạng \u003ccode\u003ehttps://github.com/owner/repo/pull/xxx\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eKiểm tra tên người tạo pull\u003c/li\u003e\n\u003cli\u003eLấy thông tin pull\u003c/li\u003e\n\u003cli\u003eKiểm tra và lưu vào store\u003c/li\u003e\n\u003cli\u003eSau khi pull được merge thì xoá khỏi store vào ngày hôm sau\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003eCraco\u003c/h1\u003e\n\u003cp\u003eCraco (Create react app configuration override) một packge giúp bạn chỉnh sửa config của create-react-app một cách dễ dàng.\nMình sẽ cài đặt package này để config build cho các file script của extension.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003eyarn add @craco/craco\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eTạo file \u003ccode\u003ecraco.config.js\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-variable hljs-language\"\u003emodule\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eexports\u003c/span\u003e = {\n  \u003cspan class=\"hljs-attr\"\u003ewebpack\u003c/span\u003e: {\n    \u003cspan class=\"hljs-attr\"\u003econfigure\u003c/span\u003e: \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ewebpackConfig, { env, paths }\u003c/span\u003e) =\u003e\u003c/span\u003e {\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e {\n        ...webpackConfig,\n        \u003cspan class=\"hljs-attr\"\u003eentry\u003c/span\u003e: {\n          \u003cspan class=\"hljs-attr\"\u003emain\u003c/span\u003e: [\n            env === \u003cspan class=\"hljs-string\"\u003e\"development\"\u003c/span\u003e \u0026#x26;\u0026#x26;\n              \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e.\u003cspan class=\"hljs-title hljs-function\"\u003eresolve\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"react-dev-utils/webpackHotDevClient\"\u003c/span\u003e),\n            paths.\u003cspan class=\"hljs-property\"\u003eappIndexJs\u003c/span\u003e,\n          ].\u003cspan class=\"hljs-title hljs-function\"\u003efilter\u003c/span\u003e(\u003cspan class=\"hljs-title hljs-class\"\u003eBoolean\u003c/span\u003e),\n          \u003cspan class=\"hljs-attr\"\u003ebackground\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"./src/chrome/background.js\"\u003c/span\u003e,\n          \u003cspan class=\"hljs-attr\"\u003econtentScript\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"./src/chrome/contentScript.js\"\u003c/span\u003e,\n        },\n        \u003cspan class=\"hljs-attr\"\u003eoutput\u003c/span\u003e: {\n          ...webpackConfig.\u003cspan class=\"hljs-property\"\u003eoutput\u003c/span\u003e,\n          \u003cspan class=\"hljs-attr\"\u003efilename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"[name].js\"\u003c/span\u003e,\n        },\n        \u003cspan class=\"hljs-attr\"\u003eoptimization\u003c/span\u003e: {\n          ...webpackConfig.\u003cspan class=\"hljs-property\"\u003eoptimization\u003c/span\u003e,\n          \u003cspan class=\"hljs-attr\"\u003eruntimeChunk\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e,\n        },\n      };\n    },\n  },\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eGiờ thì phải tạo thêm hai file \u003ccode\u003esrc/chrome/background.js\u003c/code\u003e và \u003ccode\u003esrc/chrome/contentScript.js\u003c/code\u003e\u003c/p\u003e\n\u003ch1\u003eContent Script\u003c/h1\u003e\n\u003cp\u003eFile content script này mình sẽ để chạy mỗi khi vào github. Để sử dụng thì cần cập nhật thêm vào file Manifest.json\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-json\"\u003e\u003cspan class=\"hljs-attr\"\u003e\"content_scripts\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e[\u003c/span\u003e\n    \u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"hljs-attr\"\u003e\"matches\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"https://github.com/*\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"hljs-attr\"\u003e\"js\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"contentScript.js\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"hljs-punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eỞ file này mình sẽ check khi người dùng mở một pull request bất kỳ, và lấy dữ liệu mình cần rồi dùng \u003ccode\u003echrome.runtime.sendMessage\u003c/code\u003e để gửi đến background script của extension. Thông tin mình cần thì nó dạng:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e{\n    \u003cspan class=\"hljs-attr\"\u003etitle\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'Add unstable prefix in React.js instead of entry points'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003estatus\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'Open'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003epathname\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'/facebook/react/pull/21722'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eupdated_at\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003enameActive\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'acdlite'\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003eBackground Script\u003c/h1\u003e\n\u003cp\u003eĐây là phần script mà nó sẽ chạy ngầm liên tục khi mình cài extension vào trình duyệt. Vì vậy nên mới có thể sử dụng để nhận thông tin bất kỳ lúc nào mà không cần mở popup. Mình sẽ cập nhật thêm vào Manifest.json\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-json\"\u003e\u003cspan class=\"hljs-attr\"\u003e\"permissions\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e[\u003c/span\u003e\n    \u003cspan class=\"hljs-string\"\u003e\"storage\"\u003c/span\u003e\n  \u003cspan class=\"hljs-punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n  ...\n  \u003cspan class=\"hljs-attr\"\u003e\"background\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"service_worker\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"background.js\"\u003c/span\u003e\n  \u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eMình có thêm \u003ccode\u003e\"permissions: ['storage']\"\u003c/code\u003e vì ở đây mình sẽ cần \u003ccode\u003echrome.storage\u003c/code\u003e để lưu thông tin pull.\u003c/p\u003e\n\u003ch1\u003eDemo\u003c/h1\u003e\n\u003cp\u003eĐến bước này thì mình hoàn thành cơ bản được rồi\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://images.viblo.asia/b7a3d191-dcd8-4c59-af90-d4621e28b61d.gif\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003eTrong bài viết thì mình không muốn coppy phần code vào, bạn có thể tham khảo\u003c/p\u003e\n\u003cp\u003eSource code: \u003ca href=\"https://github.com/muoihai-com/pull-requests-tracker\"\u003ehttps://github.com/muoihai-com/pull-requests-tracker\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://images.viblo.asia/21255719-39d7-4787-bb59-7606744a0c9e.png\" alt=\"\"\u003e\u003c/p\u003e"},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"tao-mot-google-chrome-extension-voi-react"},"buildId":"G6kVIVNCNR42qr-ac7HVB","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>
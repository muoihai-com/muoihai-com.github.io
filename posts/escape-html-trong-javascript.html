<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Escape HTML trong javascript | Hungkieu&#x27;s blog</title><meta name="description" content="Escape HTML trong javascript, html là hành động ta thay thế một số ký tự đặc biệt với HTML character và phòng tránh XSS attack"/><meta name="next-head-count" content="4"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/77b952c78de83359.css" as="style"/><link rel="stylesheet" href="/_next/static/css/77b952c78de83359.css" data-n-g=""/><link rel="preload" href="/_next/static/css/ee64063c17e45e95.css" as="style"/><link rel="stylesheet" href="/_next/static/css/ee64063c17e45e95.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-a054bbf31fb90f6a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-2fa1a84ec5e1b202.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-6a804a76f9f7ec33.js" defer=""></script><script src="/_next/static/zkVApzwE2iXr9Hxj3ECf6/_buildManifest.js" defer=""></script><script src="/_next/static/zkVApzwE2iXr9Hxj3ECf6/_ssgManifest.js" defer=""></script><script src="/_next/static/zkVApzwE2iXr9Hxj3ECf6/_middlewareManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Bitter:wght@500&display=swap">@font-face{font-family:'Bitter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/bitter/v25/raxhHiqOu8IVPmnRc6SY1KXhnF_Y8cTfCLw.woff) format('woff')}@font-face{font-family:'Bitter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/bitter/v25/raxhHiqOu8IVPmnRc6SY1KXhnF_Y8cTfOLXOW3pzveS5B3Nd.woff) format('woff');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Bitter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/bitter/v25/raxhHiqOu8IVPmnRc6SY1KXhnF_Y8cTfOLzOW3pzveS5B3Nd.woff) format('woff');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Bitter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/bitter/v25/raxhHiqOu8IVPmnRc6SY1KXhnF_Y8cTfOLfOW3pzveS5B3Nd.woff) format('woff');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Bitter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/bitter/v25/raxhHiqOu8IVPmnRc6SY1KXhnF_Y8cTfOLbOW3pzveS5B3Nd.woff) format('woff');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Bitter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/bitter/v25/raxhHiqOu8IVPmnRc6SY1KXhnF_Y8cTfOLjOW3pzveS5Bw.woff) format('woff');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next" data-reactroot=""><div class="styles_layout__uw121"><main class="styles_main__ZTqbU"><div class="styles_article__gKJAH"><article><a href="/">← Quay về trang chủ</a><div class="styles_htmlBody__Y9rnw"><h1>Escape HTML trong javascript</h1>
<p>Escape string trong javascript, html là hành động ta thay thế một số ký tự đặc biệt với HTML character và phòng tránh XSS attack.</p>
<p>Các ký tự cần escape là <strong>"&#x26;", "&#x3C;", ">", '"', và "'"</strong></p>
<p>Cùng xem chuỗi dưới đây, nếu không được escape và in ra trực tiếp bạn sẽ nhìn thấy một alert thay vì đọc được đoạn code này.</p>
<pre><code class="hljs language-html"><span class="hljs-tag">&#x3C;<span class="hljs-name">script</span>></span> alert(123) <span class="hljs-tag">&#x3C;/<span class="hljs-name">script</span>></span>
</code></pre>
<p>Chúng ta có thể escape HTML bằng cách dùng hàm <code>replaceAll</code> của String.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">function</span> <span class="hljs-title hljs-function">escape</span>(<span class="hljs-params">string</span>) {
  <span class="hljs-keyword">return</span> string.<span class="hljs-title hljs-function">replaceAll</span>(<span class="hljs-string">'&#x26;'</span>, <span class="hljs-string">'&#x26;amp;'</span>)
    .<span class="hljs-title hljs-function">replaceAll</span>(<span class="hljs-string">'&#x3C;'</span>, <span class="hljs-string">'&#x26;lt;'</span>)
    .<span class="hljs-title hljs-function">replaceAll</span>(<span class="hljs-string">'>'</span>, <span class="hljs-string">'&#x26;gt;'</span>)
    .<span class="hljs-title hljs-function">replaceAll</span>(<span class="hljs-string">'"'</span>, <span class="hljs-string">'&#x26;quot;'</span>)
    .<span class="hljs-title hljs-function">replaceAll</span>(<span class="hljs-string">"'"</span>, <span class="hljs-string">'&#x26;#39;'</span>)
}

<span class="hljs-built_in">escape</span>(<span class="hljs-string">'&#x3C;script> alert(123) &#x3C;/script>'</span>) <span class="hljs-comment">// '&#x26;lt;script&#x26;gt; alert(123) &#x26;lt;/script&#x26;gt;'</span>
</code></pre>
<h2>Unescape</h2>
<p>Unescape HTML là quá trình ngược lại với việc escape.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">function</span> <span class="hljs-title hljs-function">unescape</span>(<span class="hljs-params">string</span>) {
  <span class="hljs-keyword">return</span> string.<span class="hljs-title hljs-function">replaceAll</span>(<span class="hljs-string">'&#x26;amp;'</span>, <span class="hljs-string">'&#x26;'</span>)
    .<span class="hljs-title hljs-function">replaceAll</span>(<span class="hljs-string">'&#x26;lt;'</span>, <span class="hljs-string">'&#x3C;'</span>)
    .<span class="hljs-title hljs-function">replaceAll</span>(<span class="hljs-string">'&#x26;gt;'</span>, <span class="hljs-string">'>'</span>)
    .<span class="hljs-title hljs-function">replaceAll</span>(<span class="hljs-string">'&#x26;quot;'</span>, <span class="hljs-string">'"'</span>)
    .<span class="hljs-title hljs-function">replaceAll</span>(<span class="hljs-string">'&#x26;#39;'</span>, <span class="hljs-string">"'"</span>)
}

<span class="hljs-built_in">unescape</span>(<span class="hljs-string">'&#x26;lt;script&#x26;gt; alert(123) &#x26;lt;/script&#x26;gt;'</span>)
</code></pre></div></article><footer class="styles_footer__UG76L">©<a class="styles_link__KytYE" href="https://github.com/hungkieu">hungkieu</a>2022</footer></div></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"slug":"escape-html-trong-javascript","title":"Escape HTML trong javascript","date":"Wed Mar 09 2022 21:08:26 GMT+0700 (Indochina Time)","description":"Escape HTML trong javascript, html là hành động ta thay thế một số ký tự đặc biệt với HTML character và phòng tránh XSS attack","tags":["Javascript"],"content":"\u003ch1\u003eEscape HTML trong javascript\u003c/h1\u003e\n\u003cp\u003eEscape string trong javascript, html là hành động ta thay thế một số ký tự đặc biệt với HTML character và phòng tránh XSS attack.\u003c/p\u003e\n\u003cp\u003eCác ký tự cần escape là \u003cstrong\u003e\"\u0026#x26;\", \"\u0026#x3C;\", \"\u003e\", '\"', và \"'\"\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eCùng xem chuỗi dưới đây, nếu không được escape và in ra trực tiếp bạn sẽ nhìn thấy một alert thay vì đọc được đoạn code này.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u003e\u003c/span\u003e alert(123) \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eChúng ta có thể escape HTML bằng cách dùng hàm \u003ccode\u003ereplaceAll\u003c/code\u003e của String.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title hljs-function\"\u003eescape\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003estring\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e string.\u003cspan class=\"hljs-title hljs-function\"\u003ereplaceAll\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'\u0026#x26;'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'\u0026#x26;amp;'\u003c/span\u003e)\n    .\u003cspan class=\"hljs-title hljs-function\"\u003ereplaceAll\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'\u0026#x3C;'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'\u0026#x26;lt;'\u003c/span\u003e)\n    .\u003cspan class=\"hljs-title hljs-function\"\u003ereplaceAll\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'\u003e'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'\u0026#x26;gt;'\u003c/span\u003e)\n    .\u003cspan class=\"hljs-title hljs-function\"\u003ereplaceAll\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'\"'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'\u0026#x26;quot;'\u003c/span\u003e)\n    .\u003cspan class=\"hljs-title hljs-function\"\u003ereplaceAll\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"'\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'\u0026#x26;#39;'\u003c/span\u003e)\n}\n\n\u003cspan class=\"hljs-built_in\"\u003eescape\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'\u0026#x3C;script\u003e alert(123) \u0026#x3C;/script\u003e'\u003c/span\u003e) \u003cspan class=\"hljs-comment\"\u003e// '\u0026#x26;lt;script\u0026#x26;gt; alert(123) \u0026#x26;lt;/script\u0026#x26;gt;'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eUnescape\u003c/h2\u003e\n\u003cp\u003eUnescape HTML là quá trình ngược lại với việc escape.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title hljs-function\"\u003eunescape\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003estring\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e string.\u003cspan class=\"hljs-title hljs-function\"\u003ereplaceAll\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'\u0026#x26;amp;'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'\u0026#x26;'\u003c/span\u003e)\n    .\u003cspan class=\"hljs-title hljs-function\"\u003ereplaceAll\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'\u0026#x26;lt;'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'\u0026#x3C;'\u003c/span\u003e)\n    .\u003cspan class=\"hljs-title hljs-function\"\u003ereplaceAll\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'\u0026#x26;gt;'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'\u003e'\u003c/span\u003e)\n    .\u003cspan class=\"hljs-title hljs-function\"\u003ereplaceAll\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'\u0026#x26;quot;'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'\"'\u003c/span\u003e)\n    .\u003cspan class=\"hljs-title hljs-function\"\u003ereplaceAll\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'\u0026#x26;#39;'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"'\"\u003c/span\u003e)\n}\n\n\u003cspan class=\"hljs-built_in\"\u003eunescape\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'\u0026#x26;lt;script\u0026#x26;gt; alert(123) \u0026#x26;lt;/script\u0026#x26;gt;'\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e"},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"escape-html-trong-javascript"},"buildId":"zkVApzwE2iXr9Hxj3ECf6","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>